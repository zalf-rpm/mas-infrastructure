@namespace Mas.Infrastructure.BlazorComponents

@using MudBlazor

<MudDialog>
    <DialogContent>
        <MudTextField Value=@Interface ReadOnly=@true Label="Interface" />
        <MudTextField @bind-Value=newBookmark.PetName Label="Petname" />
        <MudTextField @bind-Value=newBookmark.SturdyRef Label="Sturdy reference" Required />
        <MudSwitch @bind-Checked=newBookmark.AutoConnect Label="Auto-connect?" Color=@Color.Primary/>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick=@Cancel>Cancel</MudButton>
        <MudButton Color="Color.Primary" OnClick=@Close>Add</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    MudDialogInstance MudDialog { get; set; }

    [Parameter]
    public string Interface { get; set; }

    private StoredSRData newBookmark = new();

    private void Close()
    {
        newBookmark.Interface = Interface;
        MudDialog.Close(DialogResult.Ok(newBookmark));
    }
    void Cancel() => MudDialog.Cancel();
}
