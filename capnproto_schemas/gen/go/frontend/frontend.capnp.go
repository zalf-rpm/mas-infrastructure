// Code generated by capnpc-go. DO NOT EDIT.

package frontend

import (
	capnp "capnproto.org/go/capnp/v3"
	text "capnproto.org/go/capnp/v3/encoding/text"
	schemas "capnproto.org/go/capnp/v3/schemas"
	server "capnproto.org/go/capnp/v3/server"
	context "context"
	persistence "github.com/zalf-rpm/mas-infrastructure/capnp_schemas/gen/go/persistence"
)

type Admin struct{ Client *capnp.Client }

// Admin_TypeID is the unique identifier for the type Admin.
const Admin_TypeID = 0xd2c8a2e42bba8354

func (c Admin) AddPublicKey(ctx context.Context, params func(Admin_addPublicKey_Params) error) (Admin_addPublicKey_Results_Future, capnp.ReleaseFunc) {
	s := capnp.Send{
		Method: capnp.Method{
			InterfaceID:   0xd2c8a2e42bba8354,
			MethodID:      0,
			InterfaceName: "frontend.capnp:Admin",
			MethodName:    "addPublicKey",
		},
	}
	if params != nil {
		s.ArgsSize = capnp.ObjectSize{DataSize: 0, PointerCount: 2}
		s.PlaceArgs = func(s capnp.Struct) error { return params(Admin_addPublicKey_Params{Struct: s}) }
	}
	ans, release := c.Client.SendCall(ctx, s)
	return Admin_addPublicKey_Results_Future{Future: ans.Future()}, release
}

func (c Admin) AddRef() Admin {
	return Admin{
		Client: c.Client.AddRef(),
	}
}

func (c Admin) Release() {
	c.Client.Release()
}

// A Admin_Server is a Admin with a local implementation.
type Admin_Server interface {
	AddPublicKey(context.Context, Admin_addPublicKey) error
}

// Admin_NewServer creates a new Server from an implementation of Admin_Server.
func Admin_NewServer(s Admin_Server, policy *server.Policy) *server.Server {
	c, _ := s.(server.Shutdowner)
	return server.New(Admin_Methods(nil, s), s, c, policy)
}

// Admin_ServerToClient creates a new Client from an implementation of Admin_Server.
// The caller is responsible for calling Release on the returned Client.
func Admin_ServerToClient(s Admin_Server, policy *server.Policy) Admin {
	return Admin{Client: capnp.NewClient(Admin_NewServer(s, policy))}
}

// Admin_Methods appends Methods to a slice that invoke the methods on s.
// This can be used to create a more complicated Server.
func Admin_Methods(methods []server.Method, s Admin_Server) []server.Method {
	if cap(methods) == 0 {
		methods = make([]server.Method, 0, 1)
	}

	methods = append(methods, server.Method{
		Method: capnp.Method{
			InterfaceID:   0xd2c8a2e42bba8354,
			MethodID:      0,
			InterfaceName: "frontend.capnp:Admin",
			MethodName:    "addPublicKey",
		},
		Impl: func(ctx context.Context, call *server.Call) error {
			return s.AddPublicKey(ctx, Admin_addPublicKey{call})
		},
	})

	return methods
}

// Admin_addPublicKey holds the state for a server call to Admin.addPublicKey.
// See server.Call for documentation.
type Admin_addPublicKey struct {
	*server.Call
}

// Args returns the call's arguments.
func (c Admin_addPublicKey) Args() Admin_addPublicKey_Params {
	return Admin_addPublicKey_Params{Struct: c.Call.Args()}
}

// AllocResults allocates the results struct.
func (c Admin_addPublicKey) AllocResults() (Admin_addPublicKey_Results, error) {
	r, err := c.Call.AllocResults(capnp.ObjectSize{DataSize: 0, PointerCount: 0})
	return Admin_addPublicKey_Results{Struct: r}, err
}

type Admin_addPublicKey_Params struct{ capnp.Struct }

// Admin_addPublicKey_Params_TypeID is the unique identifier for the type Admin_addPublicKey_Params.
const Admin_addPublicKey_Params_TypeID = 0xc0049f45daf82ab1

func NewAdmin_addPublicKey_Params(s *capnp.Segment) (Admin_addPublicKey_Params, error) {
	st, err := capnp.NewStruct(s, capnp.ObjectSize{DataSize: 0, PointerCount: 2})
	return Admin_addPublicKey_Params{st}, err
}

func NewRootAdmin_addPublicKey_Params(s *capnp.Segment) (Admin_addPublicKey_Params, error) {
	st, err := capnp.NewRootStruct(s, capnp.ObjectSize{DataSize: 0, PointerCount: 2})
	return Admin_addPublicKey_Params{st}, err
}

func ReadRootAdmin_addPublicKey_Params(msg *capnp.Message) (Admin_addPublicKey_Params, error) {
	root, err := msg.Root()
	return Admin_addPublicKey_Params{root.Struct()}, err
}

func (s Admin_addPublicKey_Params) String() string {
	str, _ := text.Marshal(0xc0049f45daf82ab1, s.Struct)
	return str
}

func (s Admin_addPublicKey_Params) SrOwner() (persistence.SturdyRef_Owner, error) {
	p, err := s.Struct.Ptr(0)
	return persistence.SturdyRef_Owner{Struct: p.Struct()}, err
}

func (s Admin_addPublicKey_Params) HasSrOwner() bool {
	return s.Struct.HasPtr(0)
}

func (s Admin_addPublicKey_Params) SetSrOwner(v persistence.SturdyRef_Owner) error {
	return s.Struct.SetPtr(0, v.Struct.ToPtr())
}

// NewSrOwner sets the srOwner field to a newly
// allocated persistence.SturdyRef_Owner struct, preferring placement in s's segment.
func (s Admin_addPublicKey_Params) NewSrOwner() (persistence.SturdyRef_Owner, error) {
	ss, err := persistence.NewSturdyRef_Owner(s.Struct.Segment())
	if err != nil {
		return persistence.SturdyRef_Owner{}, err
	}
	err = s.Struct.SetPtr(0, ss.Struct.ToPtr())
	return ss, err
}

func (s Admin_addPublicKey_Params) PublicKey() ([]byte, error) {
	p, err := s.Struct.Ptr(1)
	return []byte(p.Data()), err
}

func (s Admin_addPublicKey_Params) HasPublicKey() bool {
	return s.Struct.HasPtr(1)
}

func (s Admin_addPublicKey_Params) SetPublicKey(v []byte) error {
	return s.Struct.SetData(1, v)
}

// Admin_addPublicKey_Params_List is a list of Admin_addPublicKey_Params.
type Admin_addPublicKey_Params_List struct{ capnp.List }

// NewAdmin_addPublicKey_Params creates a new list of Admin_addPublicKey_Params.
func NewAdmin_addPublicKey_Params_List(s *capnp.Segment, sz int32) (Admin_addPublicKey_Params_List, error) {
	l, err := capnp.NewCompositeList(s, capnp.ObjectSize{DataSize: 0, PointerCount: 2}, sz)
	return Admin_addPublicKey_Params_List{l}, err
}

func (s Admin_addPublicKey_Params_List) At(i int) Admin_addPublicKey_Params {
	return Admin_addPublicKey_Params{s.List.Struct(i)}
}

func (s Admin_addPublicKey_Params_List) Set(i int, v Admin_addPublicKey_Params) error {
	return s.List.SetStruct(i, v.Struct)
}

func (s Admin_addPublicKey_Params_List) String() string {
	str, _ := text.MarshalList(0xc0049f45daf82ab1, s.List)
	return str
}

// Admin_addPublicKey_Params_Future is a wrapper for a Admin_addPublicKey_Params promised by a client call.
type Admin_addPublicKey_Params_Future struct{ *capnp.Future }

func (p Admin_addPublicKey_Params_Future) Struct() (Admin_addPublicKey_Params, error) {
	s, err := p.Future.Struct()
	return Admin_addPublicKey_Params{s}, err
}

func (p Admin_addPublicKey_Params_Future) SrOwner() persistence.SturdyRef_Owner_Future {
	return persistence.SturdyRef_Owner_Future{Future: p.Future.Field(0, nil)}
}

type Admin_addPublicKey_Results struct{ capnp.Struct }

// Admin_addPublicKey_Results_TypeID is the unique identifier for the type Admin_addPublicKey_Results.
const Admin_addPublicKey_Results_TypeID = 0x9be49cf971ea8f9f

func NewAdmin_addPublicKey_Results(s *capnp.Segment) (Admin_addPublicKey_Results, error) {
	st, err := capnp.NewStruct(s, capnp.ObjectSize{DataSize: 0, PointerCount: 0})
	return Admin_addPublicKey_Results{st}, err
}

func NewRootAdmin_addPublicKey_Results(s *capnp.Segment) (Admin_addPublicKey_Results, error) {
	st, err := capnp.NewRootStruct(s, capnp.ObjectSize{DataSize: 0, PointerCount: 0})
	return Admin_addPublicKey_Results{st}, err
}

func ReadRootAdmin_addPublicKey_Results(msg *capnp.Message) (Admin_addPublicKey_Results, error) {
	root, err := msg.Root()
	return Admin_addPublicKey_Results{root.Struct()}, err
}

func (s Admin_addPublicKey_Results) String() string {
	str, _ := text.Marshal(0x9be49cf971ea8f9f, s.Struct)
	return str
}

// Admin_addPublicKey_Results_List is a list of Admin_addPublicKey_Results.
type Admin_addPublicKey_Results_List struct{ capnp.List }

// NewAdmin_addPublicKey_Results creates a new list of Admin_addPublicKey_Results.
func NewAdmin_addPublicKey_Results_List(s *capnp.Segment, sz int32) (Admin_addPublicKey_Results_List, error) {
	l, err := capnp.NewCompositeList(s, capnp.ObjectSize{DataSize: 0, PointerCount: 0}, sz)
	return Admin_addPublicKey_Results_List{l}, err
}

func (s Admin_addPublicKey_Results_List) At(i int) Admin_addPublicKey_Results {
	return Admin_addPublicKey_Results{s.List.Struct(i)}
}

func (s Admin_addPublicKey_Results_List) Set(i int, v Admin_addPublicKey_Results) error {
	return s.List.SetStruct(i, v.Struct)
}

func (s Admin_addPublicKey_Results_List) String() string {
	str, _ := text.MarshalList(0x9be49cf971ea8f9f, s.List)
	return str
}

// Admin_addPublicKey_Results_Future is a wrapper for a Admin_addPublicKey_Results promised by a client call.
type Admin_addPublicKey_Results_Future struct{ *capnp.Future }

func (p Admin_addPublicKey_Results_Future) Struct() (Admin_addPublicKey_Results, error) {
	s, err := p.Future.Struct()
	return Admin_addPublicKey_Results{s}, err
}

const schema_ad51a0298da64a5f = "x\xda\x8c\xd0\xb1K\xebP\x18\x05\xf0s\xeeM\x9a\xf7" +
	"\x86\xd2\x86\xbc\xf7\x17\xbc.}\xefY*\x0e\x8aS\x15" +
	"D\xa9\x83\xb9\xc5\xc5A46\x11*m\xacIK\xe9" +
	"\xe4\xe0\xe4 \xce\xa2P\x11t\x10\x1c\\\x9d\x1c;\xbb" +
	"\x08\xce\x9d\x84\xeev\x90+A\xdb\xd9\xf5;\x1f\x87\x1f" +
	"\xa7h\xb1$\xa6\xcd\xd9\x14\xa0V\xcc\x94\xee\x9d\xbe\x1e" +
	"\x8c.\x06\xe7\xb0\x7f\x130,`\x86\xb2B\x18\xfa\xfe" +
	"\xef\xdb\xcbR\xcfx\xfcLL\x91DCQ&\xe8\x8c" +
	"D\x07\xd4\xebG\x0f\xff\x06W\xfd'\xd8\x19\xa9\xb7\xca" +
	"7'\xf9Ku\x07\xd0\xd9\x90\xb7\x8e'-\xc0\xd9\x94" +
	"\xcb\xce\xb1\xb4p\xadw\xa3\xfd\xb0\x15\x84\xbeQ\xa8z" +
	"\xcd\xb09\xbf\xe07ja\xc1\xf3}\xb7\xbdS\xafU" +
	"W\x83n\xae\x12\xc4\xedz\x8b\xf1w~]/\xf2\x1a" +
	"1\xa0~H\x030\x08\xd8\xf9E@\xe5$UQ\xd0" +
	"&\x7f19NU\x00\xf5_R\xcd\x09\x1e\xc6\xd1Z" +
	"'\x0c\"f\xf5\x9fN\x7f{x\xf6\xfc\x0e\x90YP" +
	"7\xbf\x8a\xc1.\xd3\x10L\x83\x13\x05\xc7\x8aL\xc2p" +
	"IeH\x13\x98\xec\xc3\xf1\x84\xb6\xbd\x07a\xff\xb4\xf4" +
	"X\x8aLb-\xd1%?\x02\x00\x00\xff\xff \xdbn" +
	"\x1e"

func init() {
	schemas.Register(schema_ad51a0298da64a5f,
		0x9be49cf971ea8f9f,
		0xc0049f45daf82ab1,
		0xd2c8a2e42bba8354)
}
